<!doctype html>
<html>
<head>
  <meta charset='utf-8' />
  <title>watchbot 0.0.5 | Documentation</title>
  <meta name='viewport' content='width=device-width,initial-scale=1'>
  <link href='assets/bass.css' type='text/css' rel='stylesheet' />
  <link href='assets/style.css' type='text/css' rel='stylesheet' />
  <link href='assets/github.css' type='text/css' rel='stylesheet' />
</head>
<body class='documentation'>
  <div class='container'>
    <div class='clearfix md-mxn2'>
      <div class='fixed md-show fix-3 overflow-auto max-height-100'>
        <div class='py1 px2'>
          <h3 class='mb0 no-anchor'>watchbot</h3>
          <div class='mb1'><code>0.0.5</code></div>
          <input
            placeholder='Filter'
            id='filter-input'
            class='col12 block field'
            type='text' />
          <div id='toc'>
              <a
                href='#watchbot'
                class='block bold'>
                watchbot
              </a>
                <a
                  href='#watchbot.messages'
                  class='regular block'>
                  .messages
                </a>
                <a
                  href='#watchbot.tasks'
                  class='regular block'>
                  .tasks
                </a>
                <a
                  href='#watchbot.notifications'
                  class='regular block'>
                  .notifications
                </a>
                <a
                  href='#watchbot.main'
                  class='regular block'>
                  .main
                </a>
                <a
                  href='#watchbot.log'
                  class='regular block'>
                  .log
                </a>
                <a
                  href='#watchbot.template'
                  class='regular block'>
                  .template
                </a>
              <a
                href='#messages'
                class='block bold'>
                messages
              </a>
                <a
                  href='#messages.complete'
                  class='regular block'>
                  .complete
                </a>
                <a
                  href='#messages.poll'
                  class='regular block'>
                  .poll
                </a>
              <a
                href='#environment'
                class='block bold'>
                environment
              </a>
              <a
                href='#tasks'
                class='block bold'>
                tasks
              </a>
                <a
                  href='#tasks.outcome'
                  class='regular block'>
                  .outcome
                </a>
                <a
                  href='#tasks.poll'
                  class='regular block'>
                  .poll
                </a>
                <a
                  href='#tasks.run'
                  class='regular block'>
                  .run
                </a>
              <a
                href='#taskStatus'
                class='block bold'>
                taskStatus
              </a>
              <a
                href='#finishedTask'
                class='block bold'>
                finishedTask
              </a>
              <a
                href='#notifications'
                class='block bold'>
                notifications
              </a>
                <a
                  href='#notifications.send'
                  class='regular block'>
                  .send
                </a>
          </div>
        </div>
      </div>
      <div class='fix-margin-3'>
        <div class='px2'>
<div class='py1'><section class='py2 clearfix'>
  <h2 id='watchbot' class='mt0'>
    watchbot<span class='gray'></span>
  </h2>
  
  
  
  
  
  <p>Watchbot's JavaScript API</p>

      <h4>Static members</h4>
        <div class='collapsible' id='watchbot.messages'>
          <a href='#watchbot.messages'>
            <code>
              .messages<span class='gray'>(queue, topic, stackName, backoff)</span>
            </code>
            <div class='force-inline'>
              <p>Creates messages objects</p>

            </div>
          </a>
          <div class='collapser border px2 m2'>
<section class='py2 clearfix'>
  <h2 id='watchbot.messages' class='mt0'>
    messages<span class='gray'>(queue, topic, stackName, backoff)</span>
  </h2>
  
  
  
  
  
  <p>Creates messages objects</p>

    <h4>Parameters</h4>
    <ul class='suppress-p-margin'>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
 <strong>queue</strong>
          :
          <div class='force-inline'>
            <p>the URL of an SQS queue</p>

          </div>
        </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
 <strong>topic</strong>
          :
          <div class='force-inline'>
            <p>the ARN of an SNS topic for failure notifications</p>

          </div>
        </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
 <strong>stackName</strong>
          :
          <div class='force-inline'>
            <p>the name of the CloudFormation stack</p>

          </div>
        </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>
 <strong>backoff</strong>
          :
          <div class='force-inline'>
            <p>whether jobs retrying should be returned to SQS
with exponential backoff.</p>

          </div>
        </li>
    </ul>
      <h4>Returns</h4>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>
</code>
      :
      <div class='force-inline'>
        <p>a <a href="#messages">messages</a> object</p>

      </div>
</section>
          </div>
        </div>
        <div class='collapsible' id='watchbot.tasks'>
          <a href='#watchbot.tasks'>
            <code>
              .tasks<span class='gray'>(cluster, taskDefinition, containerName, concurrency)</span>
            </code>
            <div class='force-inline'>
              <p>Creates tasks objects</p>

            </div>
          </a>
          <div class='collapser border px2 m2'>
<section class='py2 clearfix'>
  <h2 id='watchbot.tasks' class='mt0'>
    tasks<span class='gray'>(cluster, taskDefinition, containerName, concurrency)</span>
  </h2>
  
  
  
  
  
  <p>Creates tasks objects</p>

    <h4>Parameters</h4>
    <ul class='suppress-p-margin'>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
 <strong>cluster</strong>
          :
          <div class='force-inline'>
            <p>the ARN of the ECS cluster to run tasks on</p>

          </div>
        </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
 <strong>taskDefinition</strong>
          :
          <div class='force-inline'>
            <p>the ARN of the processing TaskDefinition to run</p>

          </div>
        </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
 <strong>containerName</strong>
          :
          <div class='force-inline'>
            <p>the name of the container defined by the TaskDefinition</p>

          </div>
        </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>
 <strong>concurrency</strong>
          :
          <div class='force-inline'>
            <p>the desired task concurrency</p>

          </div>
        </li>
    </ul>
      <h4>Returns</h4>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>
</code>
      :
      <div class='force-inline'>
        <p>a <a href="#tasks">tasks</a> object</p>

      </div>
</section>
          </div>
        </div>
        <div class='collapsible' id='watchbot.notifications'>
          <a href='#watchbot.notifications'>
            <code>
              .notifications<span class='gray'>(topic)</span>
            </code>
            <div class='force-inline'>
              <p>Creates notifications objects</p>

            </div>
          </a>
          <div class='collapser border px2 m2'>
<section class='py2 clearfix'>
  <h2 id='watchbot.notifications' class='mt0'>
    notifications<span class='gray'>(topic)</span>
  </h2>
  
  
  
  
  
  <p>Creates notifications objects</p>

    <h4>Parameters</h4>
    <ul class='suppress-p-margin'>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
 <strong>topic</strong>
          :
          <div class='force-inline'>
            <p>the ARN of an SNS topic to receive notifications</p>

          </div>
        </li>
    </ul>
      <h4>Returns</h4>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>
</code>
      :
      <div class='force-inline'>
        <p>an <a href="#notifications">notifications</a> object</p>

      </div>
</section>
          </div>
        </div>
        <div class='collapsible' id='watchbot.main'>
          <a href='#watchbot.main'>
            <code>
              .main<span class='gray'>(config)</span>
            </code>
            <div class='force-inline'>
              <p>The main Watchbot loop</p>

            </div>
          </a>
          <div class='collapser border px2 m2'>
<section class='py2 clearfix'>
  <h2 id='watchbot.main' class='mt0'>
    main<span class='gray'>(config)</span>
  </h2>
  
  
  
  
  
  <p>The main Watchbot loop</p>

    <h4>Parameters</h4>
    <ul class='suppress-p-margin'>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>
 <strong>config</strong>
          :
          <div class='force-inline'>
            <p>configuration parameters</p>

          </div>
            <ul>
                <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
 config.NotificationTopic
                  <p>the ARN for the notification SNS topic</p>
</li>
                <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
 config.Cluster
                  <p>the ARN for the ECS cluster</p>
</li>
                <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
 config.TaskDefinition
                  <p>the ARN for the worker task definition</p>
</li>
                <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
 config.ContainerName
                  <p>the name of the container defined by the TaskDefinition</p>
</li>
                <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>
 config.Concurrency
                  <p>the number of concurrent tasks</p>
</li>
                <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
 config.QueueUrl
                  <p>the URL for the SQS queue</p>
</li>
                <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
 config.StackName
                  <p>the name of the CFN stack</p>
</li>
                <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>
 config.ExponentialBackoff
                  <p>whether to retry with backoff</p>
</li>
                <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
=
 config.LogLevel
                    (default <code>info</code>)
                  <p>fastlog log level</p>
</li>
            </ul>
        </li>
    </ul>
      <h4>Returns</h4>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>
</code>
      :
      <div class='force-inline'>
        <p>an event emitter that will emit an <code>finish</code> event if the
main loop is stopped.</p>

      </div>
      <h4>Static members</h4>
        <div class='collapsible' id='watchbot.main.end'>
          <a href='#watchbot.main.end'>
            <code>
              .end<span class='gray'></span>
            </code>
            <div class='force-inline'>
              <p>Signals the main loop to shut down.</p>

            </div>
          </a>
          <div class='collapser border px2 m2'>
<section class='py2 clearfix'>
  <h2 id='watchbot.main.end' class='mt0'>
    end<span class='gray'></span>
  </h2>
  
  
  
  
  
  <p>Signals the main loop to shut down.</p>

</section>
          </div>
        </div>
</section>
          </div>
        </div>
        <div class='collapsible' id='watchbot.log'>
          <a href='#watchbot.log'>
            <code>
              .log<span class='gray'>(msg, subst1)</span>
            </code>
            <div class='force-inline'>
              <p>Writes logs to stdout prefixed with a timestamp, category, and message id. Usage
is identical to <code>console.log</code></p>

            </div>
          </a>
          <div class='collapser border px2 m2'>
<section class='py2 clearfix'>
  <h2 id='watchbot.log' class='mt0'>
    log<span class='gray'>(msg, subst1)</span>
  </h2>
  
  
  
  
  
  <p>Writes logs to stdout prefixed with a timestamp, category, and message id. Usage
is identical to <code>console.log</code></p>

    <h4>Parameters</h4>
    <ul class='suppress-p-margin'>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
 <strong>msg</strong>
          :
          <div class='force-inline'>
            <p>a string containing one or more substition strings</p>

          </div>
        </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
 <strong>subst1</strong>
          :
          <div class='force-inline'>
            <p>strings with which to replace substitution strings within <code>msg</code></p>

          </div>
        </li>
    </ul>
</section>
          </div>
        </div>
        <div class='collapsible' id='watchbot.template'>
          <a href='#watchbot.template'>
            <code>
              .template<span class='gray'>(options)</span>
            </code>
            <div class='force-inline'>
              <p>Creates a bare-bones CloudFormation template for a Watchbot stack</p>

            </div>
          </a>
          <div class='collapser border px2 m2'>
<section class='py2 clearfix'>
  <h2 id='watchbot.template' class='mt0'>
    template<span class='gray'>(options)</span>
  </h2>
  
  
  
  
  
  <p>Creates a bare-bones CloudFormation template for a Watchbot stack</p>

    <h4>Parameters</h4>
    <ul class='suppress-p-margin'>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>
 <strong>options</strong>
          :
          <div class='force-inline'>
            <p>configuration details</p>

          </div>
            <ul>
                <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
 options.description
                  <p>a description to set for the template</p>
</li>
                <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>
 options.provideUser
                  <p>set to true to provide a keypair with
permission to send work to the queue.</p>
</li>
                <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>
 options.useWebhooks
                  <p>set to true to enable a webhook endpoint
allowing an HTTPS POST request to add work to the queue.</p>
</li>
                <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>
 options.useWebhookKey
                  <p>require an API key in order to POST
to the webhook endpoint</p>
</li>
                <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>
 options.taskEnv
                  <p>a set of key-value pairs to provide as environment
variables to <strong>all</strong> tasks.</p>
</li>
            </ul>
        </li>
    </ul>
      <h4>Returns</h4>
      <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>
</code>
      :
      <div class='force-inline'>
        <p>a CloudFormation template. <code>JSON.stringify</code> this object and
save it to a file in order to deploy the stack.</p>

      </div>
</section>
          </div>
        </div>
</section>
</div><div class='py1'><section class='py2 clearfix'>
  <h2 id='messages' class='mt0'>
    messages<span class='gray'></span>
  </h2>
  
  
  
  
  
  <p>An SQS message tracker</p>

      <h4>Static members</h4>
        <div class='collapsible' id='messages.complete'>
          <a href='#messages.complete'>
            <code>
              .complete<span class='gray'>(finishedTask, callback)</span>
            </code>
            <div class='force-inline'>
              <p>Handle a completed SQS message</p>

            </div>
          </a>
          <div class='collapser border px2 m2'>
<section class='py2 clearfix'>
  <h2 id='messages.complete' class='mt0'>
    complete<span class='gray'>(finishedTask, callback)</span>
  </h2>
  
  
  
  
  
  <p>Handle a completed SQS message</p>

    <h4>Parameters</h4>
    <ul class='suppress-p-margin'>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>
 <strong>finishedTask</strong>
          :
          <div class='force-inline'>
            <p>a fainishedTask object defining the task outcome</p>

          </div>
        </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">function</a>
 <strong>callback</strong>
          :
          <div class='force-inline'>
            <p>a function called when the finished job has been
handled appropriately</p>

          </div>
        </li>
    </ul>
</section>
          </div>
        </div>
        <div class='collapsible' id='messages.poll'>
          <a href='#messages.poll'>
            <code>
              .poll<span class='gray'>(max, callback)</span>
            </code>
            <div class='force-inline'>
              <p>Poll SQS to find jobs</p>

            </div>
          </a>
          <div class='collapser border px2 m2'>
<section class='py2 clearfix'>
  <h2 id='messages.poll' class='mt0'>
    poll<span class='gray'>(max, callback)</span>
  </h2>
  
  
  
  
  
  <p>Poll SQS to find jobs</p>

    <h4>Parameters</h4>
    <ul class='suppress-p-margin'>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>
 <strong>max</strong>
          :
          <div class='force-inline'>
            <p>the maximum number of jobs to take from the queue (max 10)</p>

          </div>
        </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">function</a>
 <strong>callback</strong>
          :
          <div class='force-inline'>
            <p>a function called after polling completes. The
callback will be provided with an object of key-value object pairs representing
environment variables (see <a href="#environment">environment</a>) to be provided to a task</p>

          </div>
        </li>
    </ul>
</section>
          </div>
        </div>
</section>
</div><div class='py1'><section class='py2 clearfix'>
  <h2 id='environment' class='mt0'>
    environment<span class='gray'></span>
  </h2>
  
  
  
  
  
  <p>Environment variables providing SQS message details to the processing task</p>

    <h4>Properties</h4>
    <ul class='suppress-p-margin'>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
 <strong>MessageId</strong>
              :
              <div class='force-inline'>
                <p>the SQS MessageId</p>

              </div>
            </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
 <strong>Subject</strong>
              :
              <div class='force-inline'>
                <p>the message's subject</p>

              </div>
            </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
 <strong>Message</strong>
              :
              <div class='force-inline'>
                <p>the message's body</p>

              </div>
            </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
 <strong>SentTimestamp</strong>
              :
              <div class='force-inline'>
                <p>the time the message was sent</p>

              </div>
            </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
 <strong>ApproximateFirstReceiveTimestamp</strong>
              :
              <div class='force-inline'>
                <p>the time the
message was first received</p>

              </div>
            </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
 <strong>ApproximateReceiveCount</strong>
              :
              <div class='force-inline'>
                <p>the number of times the
message has been received</p>

              </div>
            </li>
    </li>
</section>
</div><div class='py1'><section class='py2 clearfix'>
  <h2 id='tasks' class='mt0'>
    tasks<span class='gray'></span>
  </h2>
  
  
  
  
  
  <p>An ECS task runner and status tracker</p>

      <h4>Static members</h4>
        <div class='collapsible' id='tasks.outcome'>
          <a href='#tasks.outcome'>
            <code>
              .outcome<span class='gray'></span>
            </code>
            <div class='force-inline'>
              <p>Possible task outcomes</p>

            </div>
          </a>
          <div class='collapser border px2 m2'>
<section class='py2 clearfix'>
  <h2 id='tasks.outcome' class='mt0'>
    outcome<span class='gray'></span>
  </h2>
  
  
  
  
  
  <p>Possible task outcomes</p>

    <h4>Properties</h4>
    <ul class='suppress-p-margin'>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
 <strong>success</strong>
              :
              <div class='force-inline'>
                <p>indicates that the container(s) provided an
exit code 0. The SQS message should be deleted.</p>

              </div>
            </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
 <strong>fail</strong>
              :
              <div class='force-inline'>
                <p>indicates that the container(s) provided an exit
code 3. The SQS message should be deleted and a notification sent.</p>

              </div>
            </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
 <strong>noop</strong>
              :
              <div class='force-inline'>
                <p>indicates that the container(s) provided an exit
code 3. The SQS message should be deleted and a notification sent.</p>

              </div>
            </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
 <strong>retry</strong>
              :
              <div class='force-inline'>
                <p>indicates that container(s) provided an unknown
or mismatched exit code. The SQS message should be returned and a
notification sent.</p>

              </div>
            </li>
    </li>
</section>
          </div>
        </div>
        <div class='collapsible' id='tasks.poll'>
          <a href='#tasks.poll'>
            <code>
              .poll<span class='gray'>(callback)</span>
            </code>
            <div class='force-inline'>
              <p>Checks the status of all pending tasks</p>

            </div>
          </a>
          <div class='collapser border px2 m2'>
<section class='py2 clearfix'>
  <h2 id='tasks.poll' class='mt0'>
    poll<span class='gray'>(callback)</span>
  </h2>
  
  
  
  
  
  <p>Checks the status of all pending tasks</p>

    <h4>Parameters</h4>
    <ul class='suppress-p-margin'>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">function</a>
 <strong>callback</strong>
          :
          <div class='force-inline'>
            <p>a function to handle the response. Will be
provided a <a href="#taskStatus">taskStatus</a> object.</p>

          </div>
        </li>
    </ul>
</section>
          </div>
        </div>
        <div class='collapsible' id='tasks.run'>
          <a href='#tasks.run'>
            <code>
              .run<span class='gray'>(env, callback)</span>
            </code>
            <div class='force-inline'>
              <p>Runs a task if currently below desired concurrency</p>

            </div>
          </a>
          <div class='collapser border px2 m2'>
<section class='py2 clearfix'>
  <h2 id='tasks.run' class='mt0'>
    run<span class='gray'>(env, callback)</span>
  </h2>
  
  
  
  
  
  <p>Runs a task if currently below desired concurrency</p>

    <h4>Parameters</h4>
    <ul class='suppress-p-margin'>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>
 <strong>env</strong>
          :
          <div class='force-inline'>
            <p>key-value pairs of environment variables to provide
to the task</p>

          </div>
        </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">function</a>
 <strong>callback</strong>
          :
          <div class='force-inline'>
            <p>a function to run when the task has been started.
An error object with code <code>AboveConcurrency</code> indicates that there are already
the maximum number of concurrent tasks running.</p>

          </div>
        </li>
    </ul>
</section>
          </div>
        </div>
</section>
</div><div class='py1'><section class='py2 clearfix'>
  <h2 id='taskStatus' class='mt0'>
    taskStatus<span class='gray'></span>
  </h2>
  
  
  
  
  
  <p>An array of <a href="#finishedTask">finishedTask</a> objects</p>

    <h4>Properties</h4>
    <ul class='suppress-p-margin'>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>
 <strong>free</strong>
              :
              <div class='force-inline'>
                <p>the difference between current and maximum
desired task concurrency.</p>

              </div>
            </li>
    </li>
</section>
</div><div class='py1'><section class='py2 clearfix'>
  <h2 id='finishedTask' class='mt0'>
    finishedTask<span class='gray'></span>
  </h2>
  
  
  
  
  
  <p>An object providing information about the outcome of a task</p>

    <h4>Properties</h4>
    <ul class='suppress-p-margin'>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>
 <strong>arns</strong>
              :
              <div class='force-inline'>
                <p>indentifiers for resources involved in running the task</p>

              </div>
            </li>
          <ul>
              <li><code>arns.cluster</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>

                <p>the ECS cluster's ARN</p>
</li>
              <li><code>arns.instance</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>

                <p>the EC2's ARN (use in ecs.describeContainerInstances requests)</p>
</li>
              <li><code>arns.task</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>

                <p>the tasks ARN (use in ecs.describeTasks requests)</p>
</li>
          </ul>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
 <strong>reason</strong>
              :
              <div class='force-inline'>
                <p>the ECS-provided reason that the task ended</p>

              </div>
            </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>
 <strong>env</strong>
              :
              <div class='force-inline'>
                <p>key-value pairs indicating the task's
environment variables</p>

              </div>
            </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
 <strong>outcome</strong>
              :
              <div class='force-inline'>
                <p>one of the outcomes defined by tasks.outcome</p>

              </div>
            </li>
    </li>
</section>
</div><div class='py1'><section class='py2 clearfix'>
  <h2 id='notifications' class='mt0'>
    notifications<span class='gray'></span>
  </h2>
  
  
  
  
  
  <p>An notifications object</p>

      <h4>Static members</h4>
        <div class='collapsible' id='notifications.send'>
          <a href='#notifications.send'>
            <code>
              .send<span class='gray'>(subject, message, callback)</span>
            </code>
            <div class='force-inline'>
              <p>Send a notification to the SNS topic</p>

            </div>
          </a>
          <div class='collapser border px2 m2'>
<section class='py2 clearfix'>
  <h2 id='notifications.send' class='mt0'>
    send<span class='gray'>(subject, message, callback)</span>
  </h2>
  
  
  
  
  
  <p>Send a notification to the SNS topic</p>

    <h4>Parameters</h4>
    <ul class='suppress-p-margin'>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
 <strong>subject</strong>
          :
          <div class='force-inline'>
            <p>the subject of the message</p>

          </div>
        </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>
 <strong>message</strong>
          :
          <div class='force-inline'>
            <p>the body of the message</p>

          </div>
        </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">function</a>
 <strong>callback</strong>
          :
          <div class='force-inline'>
            <p>a function to call when the notification has
been sent</p>

          </div>
        </li>
    </ul>
</section>
          </div>
        </div>
</section>
</div>
        </div>
      </div>
    </div>
  </div>
  <script src='assets/anchor.js'></script>
  <script src='assets/site.js'></script>
</body>
</html>
